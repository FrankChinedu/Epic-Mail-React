"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pool=exports.query=void 0;var _pg=require("pg");let connectionString;/* istanbul ignore next */if(process.env.NODE_ENV==='test'){/* istanbul ignore next */connectionString=process.env.TEST_DB;}else{connectionString=process.env.DEV_DB;}const pool=new _pg.Pool({connectionString});exports.pool=pool;const query=(text,params)=>new Promise((resolve,reject)=>{pool.query(text,params).then(res=>{resolve(res);}).catch(err=>{reject(err);});});exports.query=query;pool.connect();